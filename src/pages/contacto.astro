---
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import "../styles/global.css";
---

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Contacto | LuisDev</title>

    <style>
      
      @keyframes fadeUp {
        from { opacity: 0; transform: translateY(18px); }
        to   { opacity: 1; transform: translateY(0); }
      }

      
      @keyframes focusGlow {
        from { box-shadow: 0 0 0 0 rgba(0,217,255,0); }
        to   { box-shadow: 0 8px 30px -8px rgba(0,217,255,0.45); }
      }

     
      body {
        background: radial-gradient(circle at top center, #0f1118 0%, #07080b 100%);
        color: #e6eef6;
        min-height: 100vh;
        margin: 0;
        font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI",
                     Roboto, "Helvetica Neue", Arial;
      }

      
      .center-viewport {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 3.5rem 1rem;
      }

     
      .card {
        width: 100%;
        max-width: 360px;
        background: linear-gradient(180deg, rgba(12,14,20,0.85), rgba(8,9,12,0.9));
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: 16px;
        padding: 28px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.6), 0 2px 0 rgba(0,217,255,0.02) inset;
        transform-origin: center;
        animation: fadeUp 420ms cubic-bezier(.2,.9,.3,1) both;
      }

      .title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #00d9ff;
        text-align: center;
        margin: 0 0 16px 0;
        text-shadow: 0 6px 18px rgba(0,217,255,0.06);
      }

     
      label {
        display: block;
        font-size: 0.8rem;
        color: #b9dff0;
        margin-bottom: 8px;
      }

   
      .input-field {
        width: 100%;
        padding: 12px 14px;
        border-radius: 10px;
        font-size: 0.95rem;
        color: #06121a; 
        background: linear-gradient(180deg,#f7fdff 0%, #eaf8ff 100%);
        border: 1px solid rgba(10,10,12,0.08);
        outline: none;
        transition: transform 160ms ease, box-shadow 200ms ease, border-color 160ms ease;
        box-shadow: 0 2px 0 rgba(0,0,0,0.06);
      }

     
      .textarea-field {
        min-height: 110px;
        resize: vertical;
      }

    
      .input-field:focus {
        border-color: rgba(0,217,255,0.9);
        animation: focusGlow 420ms forwards;
        transform: translateY(-2px);
        box-shadow: 0 12px 40px rgba(0,217,255,0.12);
      }

     
      .textarea-field:focus {
        border-color: rgba(170, 85, 255, 0.9);
        animation: focusGlow 420ms forwards;
        transform: translateY(-2px);
        box-shadow: 0 12px 40px rgba(170,85,255,0.10);
      }

     
      .btn {
        width: 100%;
        padding: 12px 14px;
        border-radius: 10px;
        border: none;
        font-weight: 700;
        background: linear-gradient(90deg,#00d9ff,#4ea5ff 50%,#b36bff);
        color: #04212a;
        cursor: pointer;
        transition: transform 180ms ease, box-shadow 200ms ease, opacity 120ms;
        box-shadow: 0 8px 30px rgba(0,217,255,0.12);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .btn:active { transform: translateY(1px) scale(.998); }
      .btn:disabled { opacity: 0.7; cursor: not-allowed; transform: none; }

      
      .loader {
        width: 16px;
        height: 16px;
        border-radius: 50%;
        border: 2px solid rgba(4,6,8,0.2);
        border-top-color: rgba(0,0,0,0.6);
        animation: spin 0.8s linear infinite;
      }
      @keyframes spin { to { transform: rotate(360deg); } }

     
      .success {
        margin-top: 10px;
        display: none;
        text-align: center;
        color: #8ef7b4;
        font-weight: 600;
      }

      .success.show { display: block; animation: fadeUp 360ms both; }

      
      .input-field:focus-visible, .textarea-field:focus-visible {
        outline: 3px solid rgba(0,217,255,0.12);
        outline-offset: 2px;
      }

      
      @media (max-width: 420px) {
        .card { padding: 20px; max-width: 92%; }
      }
    </style>
  </head>

  <body>
    <Navbar />

    
    <div class="center-viewport">
      <div class="card" role="region" aria-labelledby="contact-title">
        <h2 id="contact-title" class="title">Contáctame</h2>

        <form id="contact-form" novalidate>
          <div style="margin-bottom:12px;">
            <label for="name">Nombre</label>
            <input id="name" name="name" type="text" class="input-field" placeholder="Tu nombre" required />
          </div>

          <div style="margin-bottom:12px;">
            <label for="email">Correo</label>
            <input id="email" name="email" type="email" class="input-field" placeholder="email@ejemplo.com" required />
          </div>

          <div style="margin-bottom:6px;">
            <label for="message">Mensaje</label>
            <textarea id="message" name="message" class="input-field textarea-field" placeholder="Escribe tu mensaje..." required></textarea>
          </div>

          <button id="submit-btn" class="btn" type="submit" aria-live="polite">
            <span id="btn-text">Enviar</span>
            <span id="loader" style="display:none;" class="loader" aria-hidden="true"></span>
          </button>

          <div id="success" class="success" role="status">✔ Tu mensaje fue enviado.</div>
        </form>
      </div>
    </div>

    <Footer />

    
    <script is:inline>
      const form = document.getElementById('contact-form');
      const btn = document.getElementById('submit-btn');
      const btnText = document.getElementById('btn-text');
      const loader = document.getElementById('loader');
      const success = document.getElementById('success');

      if (form) {
        form.addEventListener('submit', (e) => {
          e.preventDefault();

         
          const name = document.getElementById('name');
          const email = document.getElementById('email');
          const message = document.getElementById('message');

          if (!name.value.trim() || !email.value.trim() || !message.value.trim()) {
            
            [name, email, message].forEach((el) => {
              if (!el.value.trim()) {
                el.style.borderColor = '#ff6b6b';
                setTimeout(() => el.style.borderColor = '', 1200);
              }
            });
            return;
          }

         
          btn.disabled = true;
          btnText.textContent = 'Enviando...';
          loader.style.display = 'inline-block';

          
          setTimeout(() => {
            loader.style.display = 'none';
            btnText.textContent = 'Enviar';
            btn.disabled = false;
            success.classList.add('show');

            
            form.reset();
            setTimeout(() => success.classList.remove('show'), 2500);
          }, 1400);
        });

        
        ['name','email','message'].forEach(id => {
          const el = document.getElementById(id);
          el.addEventListener('focus', () => {
            el.style.transform = 'translateY(-2px)';
            el.style.transition = 'transform 160ms ease, box-shadow 180ms ease';
          });
          el.addEventListener('blur', () => {
            el.style.transform = '';
          });
        });
      }
    </script>
  </body>
</html>
